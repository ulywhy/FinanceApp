<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <title>FinanceApp</title>
    <script src="../node_modules/@webcomponents/webcomponentsjs/webcomponents-loader.js"></script>
    <script src="../node_modules/lit/polyfill-support.js"></script>
    <script type="module" src="/dashboard-element.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/luxon@2.0.1/build/global/luxon.min.js"></script>
    <script>const DateTime = luxon.DateTime;
            const Interval = luxon.Interval;</script>
    <meta name="google-signin-client_id" content="993320936977-n0aks81pti7efqn4rs779acetq075bdu.apps.googleusercontent.com">
    <script src="https://apis.google.com/js/platform.js" async defer></script>
            
  </head>
  <body>  
    <script>
    function onSignIn(googleUser) {
      document.getElementById('dashboard').setUser(googleUser.getBasicProfile())
      document.getElementById('login').style.display = 'none'
      document.getElementById('logout').style.display = 'inline'
    }
    function signOut() {
      var auth2 = gapi.auth2.getAuthInstance();
      auth2.signOut().then(function () {
        document.getElementById('dashboard').setUser(null)
        document.getElementById('login').style.display = 'inline'
        document.getElementById('logout').style.display = 'none'
      });

    }
    </script>
    <style>
      #login{
        display: inline;
      }
      #logout{
        display:none;
      }
      .login-element{
        display: flex;
      }
    </style>
    <div class="login-element">
      <button id="logout" href="#" onclick="signOut();">Sign out</button>
      <div id="login" class="g-signin2" data-onsuccess="onSignIn"></div>
  </div>
    <dashboard-element id="dashboard"></dashboard-element>
  </body>
</html>
